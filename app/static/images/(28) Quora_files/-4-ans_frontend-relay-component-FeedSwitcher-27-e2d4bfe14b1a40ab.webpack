(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-FeedSwitcher"],{"3c7D":function(e,t,n){"use strict";n.r(t);var a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedSwitcherItem_item",selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"isUnread",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Topic",kind:"LinkedField",name:"topic",plural:!1,selections:[e,t,n,{alias:null,args:null,kind:"ScalarField",name:"photoUrl",storageKey:null},a],storageKey:null}],type:"TopicFeedSwitcherItem",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Tribe",kind:"LinkedField",name:"tribe",plural:!1,selections:[e,t,n,{alias:null,args:null,kind:"ScalarField",name:"descriptionString",storageKey:null},a,{alias:"smallIconUrl",args:[{kind:"Literal",name:"size",value:50}],kind:"ScalarField",name:"iconUrl",storageKey:"iconUrl(size:50)"}],storageKey:null}],type:"TribeFeedSwitcherItem",abstractKey:null}],type:"FeedSwitcherItem",abstractKey:"__isFeedSwitcherItem"}}();a.hash="bd7495b9ff05c1d2e607641523ffcb3b",t["default"]=a},"53nz":function(e,t,n){"use strict";n.r(t);var a=n("jufJ"),r=n("YpKk"),i=n("MzdU"),l=n("KbN8"),s=n("RA+f"),c=n("kIs9"),o=n("VyO/"),u=n("q1tI"),d=n.n(u),m=n("RqIh"),p=n("kveU"),f=n("QILm"),h=n.n(f),b=n("lwsE"),g=n.n(b),y=n("W8MJ"),v=n.n(y),_=n("7W2i"),w=n.n(_),F=n("a1gu"),k=n.n(F),S=n("Nsbk"),O=n.n(S),E=n("vOnD"),x=n("Wf7G"),I=n("GxN1"),j=n("VwdU"),C=n("aCGV"),R=n("AaDK"),K=n("nwxp"),N=n("l/R4"),T=n("4Xda"),U=n("maJS"),z=n("MyFC"),D=n("IkzQ");function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O()(e);if(t){var r=O()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return k()(this,n)}}var q=Object(E["default"])(s.q).withConfig({displayName:"BaseFeedSwitcherItem___StyledRelative",componentId:"sc-12r1p9z-0"})(["color:",";&:hover{color:",";&:after{opacity:",';}}&:after{position:absolute;left:0;right:0;bottom:0;top:0;content:"";background:currentColor;z-index:1;opacity:0;}'],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3})),H=function(e){w()(n,e);var t=M(n);function n(e){var a;return g()(this,n),(a=t.call(this,e)).textRef=void 0,a.textRef=d.a.createRef(),a.state={numberOfLines:1},a}return v()(n,[{key:"getNumberOfLines",value:function(){if(this.textRef.current){var e=window.getComputedStyle(this.textRef.current).getPropertyValue("line-height"),t=Math.round(this.textRef.current.clientHeight/parseFloat(e));this.setState({numberOfLines:t})}}},{key:"componentDidMount",value:function(){this.getNumberOfLines()}},{key:"componentDidUpdate",value:function(e){this.props.text!==e.text&&this.getNumberOfLines()}},{key:"render",value:function(){var e=this,t=this.props,n=t.asAdd,a=void 0!==n&&n,r=t.icon,i=t.isActive,l=t.isUnread,c=t.impressionHash,o=t.text,u=t.url,p=t.theme,f=t.containerBgdThemeColor,b=void 0===f?"gray":f,g=t.onClick,y=h()(t,["asAdd","icon","isActive","isUnread","impressionHash","text","url","theme","containerBgdThemeColor","onClick"]),v=this.state.numberOfLines,_=p.colors.page[b],w=p.colors.bg.red_transparent;return d.a.createElement(T.b.Consumer,null,(function(t){var n=Object(N.d)(p.colors.page[b],t.isDarkModeOn,.05,.02),f=Object(N.d)(p.colors.page[b],t.isDarkModeOn,.02,.01);return d.a.createElement(s.e,Object.assign({flex:"none"},y),d.a.createElement(j.a,{condition:a,wrapper:function(e){return d.a.createElement(j.a,{condition:!!c,wrapper:function(e){return d.a.createElement(x.a,{impressionType:U.a.tribe_creation,impressionHash:c},e)}},d.a.createElement(C.a,null,(function(t){return d.a.createElement(s.f,{underlineHover:!1,display:"block",onClick:function(e){g?g(e):(Object(R["default"])("tribe_create_modal_opened",{pageType:m.a.home_feed_main,tribeCreationSource:Object(D.a)(z.a.feed_switcher)}),t(Object(D.a)(z.a.feed_switcher)))}},e)})))},elseWrapper:function(e){return d.a.createElement(s.p,{href:u,underlineHover:!1,navStyle:Object(K.c)()?"present":undefined,display:"block"},e)}},d.a.createElement(q,{display:"flex",alignItems:"center",px:"small",py:Object(K.f)()?"auto":"small",height:"auto",bg:a?f:i&&Object(K.c)()?w:"none",borderRadius:Object(K.c)()?"small":undefined,overflow:"hidden",_css:_,_css2:i?w:n,_css3:i?0:1},d.a.createElement(s.j,{alignItems:v>1?"flex-start":"center",position:"relative",zIndex:"2",flex:"1"},d.a.createElement(s.j,{alignItems:"center",display:Object(K.f)()?"flex":undefined,mr:Object(K.f)()?"tiny":"small",position:"relative",top:v>1?1:0},r,l&&d.a.createElement(s.n,{className:"unread-dot",top:-I.a/3,right:-I.a/3,zIndex:2,position:"absolute",display:"none"},d.a.createElement(I.b,{frameColor:"currentColor",hasBorder:!0}))),d.a.createElement(s.s,{fontSize:"small",color:i?"red":"gray",medium:i,flex:"1",flexGrow:1,truncateLines:2},d.a.createElement("div",{ref:e.textRef},o))),i&&Object(K.f)()&&d.a.createElement(s.a,{bg:"red",width:"100%",height:2,bottom:0,left:0}))))}))}}]),n}(d.a.Component);H.displayName="BaseFeedSwitcherItem";var L,A=Object(E.withTheme)(H),B=n("XtgS"),W=n("AFGi"),G=function(e){var t,n=e.item,a=h()(e,["item"]);if(!n)return null;switch(n.__typename){case"TopicFeedSwitcherItem":return n.topic?d.a.createElement(A,Object.assign({icon:d.a.createElement(B.c,{src:n.topic.photoUrl,borderRadius:"small",size:l.a[18].dimension}),text:n.topic.name,url:n.topic.url,isUnread:null!==(t=n.isUnread)&&void 0!==t?t:undefined,isActive:!1},a)):null;case"TribeFeedSwitcherItem":var r;return null!==n&&void 0!==n&&n.tribe&&null!==n.tribe.descriptionString?d.a.createElement(A,Object.assign({icon:d.a.createElement(B.c,{src:n.tribe.smallIconUrl,size:l.a[18].dimension,borderRadius:"squircle"}),text:Object(W.u)(n.tribe.name),url:n.tribe.url,isUnread:null!==(r=n.isUnread)&&void 0!==r?r:undefined,isActive:!1},a)):null;default:return null}};G.displayName="FeedSwitcherItem",G.displayName="FeedSwitcherItem",G.fragments={item:void 0!==L?L:L=n("3c7D")};var P,J=Object(o.b)(G),V=function(e){var t=e.children,n=e.hideDivider;return d.a.createElement(s.e,{className:"dom_annotate_feed_switcher"},d.a.createElement(d.a.Fragment,null,t),!n&&d.a.createElement(r.a,{my:"medium"}))};V.displayName="FeedSwitcherDesktopContainer";var Q=function(e){var t=e.impressionHash;return d.a.createElement(A,{className:"dom_annotate_feed_switcher_add_item",mb:"tiny",icon:d.a.createElement(i.a,{iconName:"Plus",borderRadius:"squircle",size:l.a[18].dimension,bg:"gray"}),text:Object(a.plaintextTranslate)("Create Space"),asAdd:!0,url:null,impressionHash:t})};Q.displayName="FeedSwitcherAddButton";var X=function(e){var t=e.feedSwitcher,n=e.hideDivider,r=void 0!==n&&n;if(!t)return null;var s=Object(p.y)(m.a.home_feed_main),o=s?t.items.slice(0,8):t.items;return d.a.createElement(V,{hideDivider:r},d.a.createElement(Q,{impressionHash:t.tribeCreationImpressionHash}),null===o||void 0===o?void 0:o.map((function(e){return d.a.createElement(J,{key:e.id,item:e,mb:"tiny"})})),!s&&d.a.createElement(A,{icon:d.a.createElement(i.a,{iconName:"Compass",borderRadius:"squircle",size:l.a[18].dimension,bg:"gray"}),text:Object(a.plaintextTranslate)("Discover Spaces"),url:"/spaces?".concat(c.a,"=true"),pb:"small"}))};X.displayName="FeedSwitcher",X.displayName="FeedSwitcher",X.fragments={feedSwitcher:void 0!==P?P:P=n("Tcna")};t["default"]=Object(o.b)(X)},IkzQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("MyFC"),r=new Map([[a.a.feed_switcher,1],[a.a.spaces_tab,2],[a.a.profile_page,3],[a.a.question_prompt,4],[a.a.monetization_sign_up_flow,5]]);new Map([[1,a.a.feed_switcher],[2,a.a.spaces_tab],[3,a.a.profile_page],[4,a.a.question_prompt],[5,a.a.monetization_sign_up_flow]]);function i(e){return r.get(a.a[e])}},MyFC:function(e,t,n){"use strict";var a;!function(e){e.feed_switcher="feed_switcher",e.spaces_tab="spaces_tab",e.profile_page="profile_page",e.question_prompt="question_prompt",e.monetization_sign_up_flow="monetization_sign_up_flow"}(a||(a={})),t.a=a},Tcna:function(e,t,n){"use strict";n.r(t);var a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedSwitcher_feedSwitcher",selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"tribeCreationImpressionHash",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[e,t,{args:null,kind:"FragmentSpread",name:"FeedSwitcherItem_item"}],storageKey:null}],type:"FeedSwitcher",abstractKey:null}}();a.hash="a27416b1d5098a5035ace08cbcbd703f",t["default"]=a},aCGV:function(e,t,n){"use strict";var a=n("jQ0q"),r=n("nwxp"),i=n("UyMh"),l=n("q1tI"),s=n.n(l),c=function(e){var t=e.onDismiss,n=e.children;return s.a.createElement(a.a,null,(function(e){var a=e.openModalFlow;return n((function(e){a({initialModalProps:{name:"TribeCreateModal",desktopHeight:500,extraProps:{tribeCreationSource:e}},containerProps:{easyDismissEnabled:!1},transitionName:"tribeCreateFlowTransition",postDismissCallback:function(e){t?t():null!==e&&void 0!==e&&e.redirectUrl&&Object(i.c)(e.redirectUrl,Object(r.h)()?"present":"replace")}})}))}))};c.displayName="TribeCreateModalWrapper",t.a=c},kIs9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="discover"}}]);